import scala.util.matching.Regex

object regex {
  def main(args: Array[String]) {
    val pattern = new Regex("timestamp\":\"\\d{13}")
    val str = "{\"bidId\":\"6422494224566498304\",\"requestId\":\"pap1xbop4UYnxzx9lg5wodaQhd5XV9L3YAUh\",\"adspaceId\":\"1940\",\"adType\":\"4\",\"dealId\":\"500291\",\"pkgName\":\"cn.asm.clweather\",\"appName\":\"日历天气\",\"pubCat\":\"List(5)\",\"pubId\":\"100291\",\"connectionType\":\"1\",\"apiType\":\"4\",\"timestamp\":\"1531241947336\",\"language\":\"\",\"os\":\"0\",\"device\":\"\",\"model\":\"\",\"cell\":\"\",\"mcell\":\"\",\"ts\":\"\",\"imei\":\"865132032257458\",\"wma\":\"98:6F:60:25:B1:73\",\"aid\":\"ddd436d9d8cba51c\",\"aaid\":\"\",\"idfa\":\"\",\"oid\":\"\",\"uid\":\"\",\"ua\":\"Apache-HttpClient/4.5.3+(Java/1.8.0_121)\",\"width\":\"640\",\"height\":\"960\",\"media\":\"1\",\"debug\":\"\",\"density\":\"\",\"longitude\":\"0.0\",\"latitude\":\"0.0\",\"country\":\"CN\",\"province\":\"0014\",\"city\":\"00140003\",\"ip\":\"111.1.158.114\",\"realIp\":\"\",\"host\":\"Linux\",\"domain\":\"ad.premium.madserving.com\",\"did\":\"65aee88beb2c49e8e4c04b0333296219\",\"status\":\"204\",\"campaignId\":\"\",\"materialId\":\"\",\"projectId\":\"\"}\n{\"bidId\":\"6422494224616842240\",\"requestId\":\"m4xhASGZUzKWJV0zBowjKEU3KigUJMhGoh9\",\"adspaceId\":\"1938\",\"adType\":\"4\",\"dealId\":\"500291\",\"pkgName\":\"com.wishcloud.health\",\"appName\":\"孕宝-安卓\",\"pubCat\":\"List(5)\",\"pubId\":\"100291\",\"connectionType\":\"4\",\"apiType\":\"4\",\"timestamp\":\"1531241947346\",\"language\":\"\",\"os\":\"0\",\"device\":\"\",\"model\":\"\",\"cell\":\"\",\"mcell\":\"\",\"ts\":\"\",\"imei\":\"864022039945356\",\"wma\":\"02:00:00:00:00:00\",\"aid\":\"8c64e268175e2c6e\",\"aaid\":\"\",\"idfa\":\"\",\"oid\":\"\",\"uid\":\"\",\"ua\":\"Mozilla%2F5.0%20(Macintosh%3B%20Intel%20Mac%20OS%20X%2010_7_5)%20AppleWebKit%2F537.17%20(KHTML%2C%20like%20Gecko)%20Chrome%2F24.0.1312.52%20Safari%2F537.17\",\"width\":\"640\",\"height\":\"100\",\"media\":\"1\",\"debug\":\"\",\"density\":\"\",\"longitude\":\"0.0\",\"latitude\":\"0.0\",\"country\":\"CN\",\"province\":\"0001\",\"city\":\"00010000\",\"ip\":\"114.67.229.112\",\"realIp\":\"\",\"host\":\"Linux\",\"domain\":\"ad.premium.madserving.com\",\"did\":\"6ebf6c75e18958ba69c8dfd8bd3f7c1e\",\"status\":\"204\",\"campaignId\":\"\",\"materialId\":\"\",\"projectId\":\"\"}\n{\"bidId\":\"6422494224746852352\",\"requestId\":\"369W5Cc3BgDvJ5lDXlXfm2P2bb3NPJ2GuMG\",\"adspaceId\":\"839\",\"adType\":\"4\",\"dealId\":\"500395\",\"pkgName\":\"com.jxedt\",\"appName\":\"jxedt\",\"pubCat\":\"List(7)\",\"pubId\":\"100051\",\"connectionType\":\"1\",\"apiType\":\"4\",\"timestamp\":\"1531241947374\",\"language\":\"\",\"os\":\"0\",\"device\":\"\",\"model\":\"\",\"cell\":\"\",\"mcell\":\"\",\"ts\":\"\",\"imei\":\"867262038058234\",\"wma\":\"020000000000\",\"aid\":\"af2b21053c8e827f\",\"aaid\":\"0\",\"idfa\":\"\",\"oid\":\"\",\"uid\":\"\",\"ua\":\"Mozilla/5.0+(Linux;+Android+8.1.0;+CLT-AL00+Build/HUAWEICLT-AL00;+wv)+AppleWebKit/537.36+(KHTML,+like+Gecko)+Version/4.0+Chrome/63.0.3239.111+Mobile+Safari/537.36\",\"width\":\"640\",\"height\":\"100\",\"media\":\"1\",\"debug\":\"\",\"density\":\"\",\"longitude\":\"120.59895\",\"latitude\":\"28.012552\",\"country\":\"CN\",\"province\":\"0014\",\"city\":\"00140002\",\"ip\":\"112.12.144.28\",\"realIp\":\"\",\"host\":\"Linux\",\"domain\":\"ad.premium.madserving.com\",\"did\":\"170dfdd1007e4cb51b4b8c8f0dd8ec4a\",\"status\":\"204\",\"campaignId\":\"\",\"materialId\":\"\",\"projectId\":\"\"}\n{\"bidId\":\"6422494224788798464\",\"requestId\":\"3691THyxHrFq8JweM4Wm282eyhXAMtTHHwu2\",\"adspaceId\":\"1282\",\"adType\":\"4\",\"dealId\":\"500395\",\"pkgName\":\"com.moogos.spacex\",\"appName\":\"抢红包神器-开屏广告\",\"pubCat\":\"List(5)\",\"pubId\":\"100075\",\"connectionType\":\"1\",\"apiType\":\"4\",\"timestamp\":\"1531241947384\",\"language\":\"\",\"os\":\"0\",\"device\":\"\",\"model\":\"\",\"cell\":\"\",\"mcell\":\"1\",\"ts\":\"\",\"imei\":\"866953034511512\",\"wma\":\"b0:e1:7e:81:de:31\",\"aid\":\"183efbdd2a5b5d20\",\"aaid\":\"\",\"idfa\":\"\",\"oid\":\"\",\"uid\":\"\",\"ua\":\"Java/1.8.0_66\",\"width\":\"640\",\"height\":\"960\",\"media\":\"1\",\"debug\":\"\",\"density\":\"\",\"longitude\":\"0.0\",\"latitude\":\"0.0\",\"country\":\"CN\",\"province\":\"0015\",\"city\":\"00150000\",\"ip\":\"112.28.158.92\",\"realIp\":\"\",\"host\":\"Linux\",\"domain\":\"ad.premium.madserving.com\",\"did\":\"d95760ef0959f51ca3180e97e6c86896\",\"status\":\"204\",\"campaignId\":\"\",\"materialId\":\"\",\"projectId\":\"\"}\n{\"bidId\":\"6422494224730078209\",\"requestId\":\"iz52F6yBoVX7OudcKelfnAYMPPErzu330CIu\",\"adspaceId\":\"1940\",\"adType\":\"4\",\"dealId\":\"500291\",\"pkgName\":\"cn.chedaren.app\",\"appName\":\"玩车达人-安卓\",\"pubCat\":\"List(5)\",\"pubId\":\"100291\",\"connectionType\":\"2\",\"apiType\":\"4\",\"timestamp\":\"1531241947391\",\"language\":\"\",\"os\":\"0\",\"device\":\"\",\"model\":\"\",\"cell\":\"\",\"mcell\":\"\",\"ts\":\"\",\"imei\":\"862458039629792\",\"wma\":\"44:04:44:c6:ed:06\",\"aid\":\"d8374c1fb283f4d9\",\"aaid\":\"\",\"idfa\":\"\",\"oid\":\"\",\"uid\":\"\",\"ua\":\"Mozilla/5.0+(Linux;+Android+5.1;+OPPO+R9m+Build/LMY47I;+wv)+AppleWebKit/537.36+(KHTML,+like+Gecko)+Version/4.0+Chrome/43.0.2357.121+Mobile+Safari/537.36\",\"width\":\"640\",\"height\":\"960\",\"media\":\"1\",\"debug\":\"\",\"density\":\"\",\"longitude\":\"0.0\",\"latitude\":\"0.0\",\"country\":\"CN\",\"province\":\"0007\",\"city\":\"00070000\",\"ip\":\"175.169.126.81\",\"realIp\":\"\",\"host\":\"Linux\",\"domain\":\"ad.premium.madserving.com\",\"did\":\"83bf41da58c439b441009e65ffbe9336\",\"status\":\"204\",\"campaignId\":\"\",\"materialId\":\"\",\"projectId\":\"\"}\n{\"bidId\":\"6422494224776215553\",\"requestId\":\"ftd20jvd12nnFWoHIn7IgEnidbXtoLzPi6r6\",\"adspaceId\":\"834\",\"adType\":\"4\",\"dealId\":\"500395\",\"pkgName\":\"com.pdragon.xiangqi\",\"appName\":\"中国象棋\",\"pubCat\":\"List(5)\",\"pubId\":\"100075\",\"connectionType\":\"1\",\"apiType\":\"4\",\"timestamp\":\"1531241947382\",\"language\":\"\",\"os\":\"0\",\"device\":\"\",\"model\":\"\",\"cell\":\"\",\"mcell\":\"1\",\"ts\":\"\",\"imei\":\"861005035443040\",\"wma\":\"F4:CB:52:57:5E:1D\",\"aid\":\"2229f74c3528b233\",\"aaid\":\"\",\"idfa\":\"\",\"oid\":\"\",\"uid\":\"\",\"ua\":\"Mozilla/5.0+(Linux;+Android+6.0;+NEM-AL10+Build/HONORNEM-AL10;+wv)+AppleWebKit/537.36+(KHTML,+like+Gecko)+Version/4.0+Chrome/55.0.2883.91+Mobile+Safari/537.36\",\"width\":\"640\",\"height\":\"100\",\"media\":\"1\",\"debug\":\"\",\"density\":\"\",\"longitude\":\"0.0\",\"latitude\":\"0.0\",\"country\":\"CN\",\"province\":\"0022\",\"city\":\"00220000\",\"ip\":\"111.19.35.30\",\"realIp\":\"\",\"host\":\"Linux\",\"domain\":\"ad.premium.madserving.com\",\"did\":\"b6f95ec08c3169a9676890a7976626cf\",\"status\":\"204\",\"campaignId\":\"\",\"materialId\":\"\",\"projectId\":\"\"}\n{\"bidId\":\"6422494224700724224\",\"requestId\":\"369WgsBLCrdzdcmKIvK8opmiVBYYxgvO7J6\",\"adspaceId\":\"1940\",\"adType\":\"4\",\"dealId\":\"500395\",\"pkgName\":\"com.lambp.news\",\"appName\":\"蜜丝女性\",\"pubCat\":\"List(5)\",\"pubId\":\"100291\",\"connectionType\":\"1\",\"apiType\":\"4\",\"timestamp\":\"1531241947382\",\"language\":\"\",\"os\":\"0\",\"device\":\"\",\"model\":\"\",\"cell\":\"\",\"mcell\":\"\",\"ts\":\"\",\"imei\":\"359797052795596\",\"wma\":\"84:17:15:11:80:71\",\"aid\":\"2aa43666553b7c40\",\"aaid\":\"\",\"idfa\":\"\",\"oid\":\"\",\"uid\":\"\",\"ua\":\"Apache-HttpClient/4.5.3+(Java/1.8.0_121)\",\"width\":\"640\",\"height\":\"960\",\"media\":\"1\",\"debug\":\"\",\"density\":\"\",\"longitude\":\"0.0\",\"latitude\":\"0.0\",\"country\":\"CN\",\"province\":\"0014\",\"city\":\"00140010\",\"ip\":\"122.241.73.249\",\"realIp\":\"\",\"host\":\"Linux\",\"domain\":\"ad.premium.madserving.com\",\"did\":\"2d1c305dab3e619fb556c8e3a6989f43\",\"status\":\"204\",\"campaignId\":\"\",\"materialId\":\"\",\"projectId\":\"\"}\n{\"bidId\":\"6422494224826547200\",\"requestId\":\"6c111hyBJavODLu3bbaSsejyKtikIqDJainr\",\"adspaceId\":\"1940\",\"adType\":\"4\",\"dealId\":\"500395\",\"pkgName\":\"cc.wwwnews.headline\",\"appName\":\"互联网头条-安卓\",\"pubCat\":\"List(5)\",\"pubId\":\"100291\",\"connectionType\":\"1\",\"apiType\":\"4\",\"timestamp\":\"1531241947392\",\"language\":\"\",\"os\":\"0\",\"device\":\"\",\"model\":\"\",\"cell\":\"\",\"mcell\":\"\",\"ts\":\"\",\"imei\":\"861874035813373\",\"wma\":\"1c:77:f6:9f:d8:67\",\"aid\":\"598c8aa1ef9deb2d\",\"aaid\":\"\",\"idfa\":\"\",\"oid\":\"\",\"uid\":\"\",\"ua\":\"Mozilla/5.0+(Linux;+Android+5.1;+OPPO+R9tm+Build/LMY47I;+wv)+AppleWebKit/537.36+(KHTML,+like+Gecko)+Version/4.0+Chrome/43.0.2357.121+Mobile+Safari/537.36\",\"width\":\"640\",\"height\":\"960\",\"media\":\"1\",\"debug\":\"\",\"density\":\"\",\"longitude\":\"113.656296\",\"latitude\":\"23.07682\",\"country\":\"CN\",\"province\":\"0011\",\"city\":\"00110004\",\"ip\":\"120.229.121.150\",\"realIp\":\"\",\"host\":\"Linux\",\"domain\":\"ad.premium.madserving.com\",\"did\":\"c4748202e113c5c8cb656b18a1c91457\",\"status\":\"204\",\"campaignId\":\"\",\"materialId\":\"\",\"projectId\":\"\"}"
    val r = pattern.findFirstIn(str).get.replaceAll(".*\"","").toLong
    println(s"r=$r")
    println((pattern findAllIn str).mkString(","))   // 使用逗号 , 连接返回结果
  }
}
